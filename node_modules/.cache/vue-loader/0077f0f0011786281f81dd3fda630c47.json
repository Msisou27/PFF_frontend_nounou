{"remainingRequest":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cedricmaglione/MonPFF/PFF_frontend_nounou/src/components/Addproduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/src/components/Addproduct.vue","mtime":1597737728679},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgbm91bm91IGZyb20gJ0Avc2VydmljZXMvbm91bm91JwoKZXhwb3J0IGRlZmF1bHQgewogICBuYW1lOidBZGRwcm9kdWN0JywKICAgZGF0YTogKCk9Pih7CiAgICAgIHNlbGVjdGVkRmlsZTpudWxsLAogICAgICBwcm9kOltdLAogICAgICB0aXRsZTonJywKICAgICAgZGVzY3JpcHRpb25fc2hvcnQ6JycsCiAgICAgIGRlc2NyaXB0aW9uX2xvbmc6JycsCiAgICAgIGNhdGVnb3J5OicnLAogICAgICB1c2VkOicnLAogICAgICBsb2NhdGlvbjonJywKICAgICAgdG93bjonJywKICAgICAgcHJpY2U6JycsCiAgICAgIGltYWdlOicnLAogIAogICB9KSwKICAgIGNyZWF0ZWQoKSB7CiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKT09J251bGwnKXsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJwogICAgfQogIH0sCiAgbW91bnRlZDogYXN5bmMgZnVuY3Rpb24oKXsgIAogICAgY29uc3QgcmVzID0gYXdhaXQgbm91bm91LnJlY3VwQWxsUHJvZHVjdHNVc2VyKCkKICAgIHRoaXMucHJvZCA9IHJlcy5kYXRhLmRhdGEKICAgIGNvbnNvbGUubG9nKHRoaXMucHJvZCkKCgogIH0sCiAgbWV0aG9kczogewogICAgICBuZXdQcm9kdWN0OiBhc3luYyBmdW5jdGlvbigpewoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgIGRlc2NyaXB0aW9uX3Nob3J0OiB0aGlzLmRlc2NyaXB0aW9uX3Nob3J0LAogICAgICBkZXNjcmlwdGlvbl9sb25nOiB0aGlzLmRlc2NyaXB0aW9uX2xvbmcsCiAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LAogICAgICB1c2VkOiB0aGlzLnVzZWQsCiAgICAgIGxvY2F0aW9uOiB0aGlzLmxvY2F0aW9uLAogICAgICB0b3duOiB0aGlzLnRvd24sCiAgICAgIHByaWNlOiB0aGlzLnByaWNlLAogICAgICAvLyBpbWFnZTogdGhpcy5zZWxlY3RlZEZpbGUubmFtZSwKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgICBsZXQgcmVzID0gYXdhaXQgbm91bm91LmNyZWF0ZVByb2R1Y3QocGFyYW1zKTsKICAgICAgLy8gbG9jYXRpb24uaHJlZiA9ICcvUHJvZmlsJzsKICAgICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIH0sCiAgICAgIG9uRmlsZUNoYW5nZWQoZXZlbnQpewogICAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdCiAgICAgIH0sCiAgICAgIG9uVXBsb2FkKCl7CiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbXlGaWxlJywgdGhpcy5zZWxlY3RlZEZpbGUsIHRoaXMuc2VsZWN0ZWRGaWxlLm5hbWUpCiAgICAgIH0KICB9Cn0K"},{"version":3,"sources":["Addproduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Addproduct.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        \n   <h2 class=\"vert text-white col-md-6 ml-auto mr-auto mt-4 mb-2 text-decoration-none rounded\">Création d'une annonce</h2>\n   <!-- <div class=\"mb-2\"><router-link class=\"retour bleu text-secondary p-1 rounded text-decoration-none\" to=\"/Profil\">Retour a mon profil</router-link></div> -->\n      <form class=\"col-md-6 text-left border mt-1 p-3 m-auto bg-light\">\n    \n  <div class=\"form-row\"> \n    <div class=\"form-group col-md-6\">\n    <label for=\"validationCustom01\">Titre</label>\n      <input v-model=\"title\" id=\"title\" name=\"title\" type=\"text\" class=\"form-control\" placeholder=\"Titre de l'annonce\">\n    </div>\n    <div class=\"form-group col-md-6\">\n       <label for=\"validationCustom01\">Description courte</label>\n      <input v-model=\"description_short\" type=\"text\" class=\"form-control\" placeholder=\"Ex: Jouet enfant 3ans\">\n    </div>\n </div> \n    \n  <div class=\"form-row \">  \n  <div class=\"form-group col-md-6\">\n    <label for=\"exampleFormControlSelect2\">Catégories</label>\n    <select v-model=\"category\" type=\"text\" class=\"form-control\" id=\"exampleFormControlSelect2\">\n      <option>Jeux d'extérieurs</option>\n      <option>Jeux d’intérieurs</option>\n      <option>Poussettes</option>\n      <option>Petit matériel de puériculture</option>\n      <option>Lit et couchette</option>\n      <option>Produits d’hygiènes</option>\n      <option>Produits de sécurité</option>\n      </select>\n  </div>\n  <div class=\"form-group col-md-6\">\n    <label for=\"exampleFormControlSelect1\">Condition</label>\n    <select v-model=\"used\" type=\"text\" class=\"form-control\" id=\"exampleFormControlSelect1\">\n      <option>Comme neuf</option>\n      <option>Très bon état</option>\n      <option>Bon état</option>\n      <option>Etat correct</option>\n      <option>Fonctionnel</option>\n      </select>\n  </div>\n  </div>\n\n    <div class=\"form-group col-md-12 \">\n      <label for=\"inputEmail4\">Description longue</label>\n      <textarea v-model=\"description_long\" type=\"text\" class=\"form-control\" id=\"description_long\" placeholder=\"Decritpion détailler de votre annonce\"></textarea>\n    </div>\n  \n<div class=\"form-row\">\n    <div class=\"form-group col-md-3\">\n        <label for=\"inputAddress2\">CP</label>\n        <input v-model=\"location\" type=\"text\" class=\"form-control\" id=\"inputAddress2\" placeholder=\"ex: 83000\">\n    </div>\n    <div class=\"form-group col-md-5\">\n      <label for=\"inputCity\">Villes</label>\n      <input v-model=\"town\" type=\"text\" class=\"form-control\" id=\"inputCity\">\n    </div>\n    <div class=\"form-group col-md-4\">\n      <label for=\"inputZip\">Prix de vente</label>\n      <input v-model=\"price\" type=\"text\" class=\"form-control\" id=\"inputZip\">\n    </div>\n</div>\n  <input class=\"col-md-10 bg-white border mt-3\" type=\"file\" @change=\"onFileChanged\">\n  <button @click=\"onUpload\">Telecharger</button>\n\n  <p @click=\"newProduct()\" type=\"submit\" value=\"Submit\" class=\"col-md-10 ml-5 btn text-white mt-4 bleu\">Création nouvelle annonce</p>\n</form>\n    \n </div>\n</template>\n\n<script>\n\nimport nounou from '@/services/nounou'\n\nexport default {\n   name:'Addproduct',\n   data: ()=>({\n      selectedFile:null,\n      prod:[],\n      title:'',\n      description_short:'',\n      description_long:'',\n      category:'',\n      used:'',\n      location:'',\n      town:'',\n      price:'',\n      image:'',\n  \n   }),\n    created() {\n    if(localStorage.getItem('token')=='null'){\n        window.location.href = '/'\n    }\n  },\n  mounted: async function(){  \n    const res = await nounou.recupAllProductsUser()\n    this.prod = res.data.data\n    console.log(this.prod)\n\n\n  },\n  methods: {\n      newProduct: async function(){\n\n      var params = {\n      title: this.title,\n      description_short: this.description_short,\n      description_long: this.description_long,\n      category: this.category,\n      used: this.used,\n      location: this.location,\n      town: this.town,\n      price: this.price,\n      // image: this.selectedFile.name,\n      }\n      console.log(params);\n      let res = await nounou.createProduct(params);\n      // location.href = '/Profil';\n      // location.reload();\n      console.log(res);\n      },\n      onFileChanged(event){\n        this.selectedFile = event.target.files[0]\n      },\n      onUpload(){\n        const formData = new FormData()\n        formData.append('myFile', this.selectedFile, this.selectedFile.name)\n      }\n  }\n}\n</script>\n\n<style scoped>\n.bleu {\n   background-color: #539ee4;\n}\n.vert {\n  background-color: #00c5ad;\n}\n.retour {\n  background-color: rgba(83, 158, 228, 0.2);\n  border-bottom: 2px solid #539ee4;\n}\n</style>"]}]}