{"remainingRequest":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cedricmaglione/MonPFF/PFF_frontend_nounou/src/components/Gestionuser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/src/components/Gestionuser.vue","mtime":1597735460674},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgbm91bm91IGZyb20gJ0Avc2VydmljZXMvbm91bm91JwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonR2VzdGlvbnVzZXInLAogICAgZGF0YTogKCk9Pih7CiAgICB1c2VyczpbXSwKICB9KSwKICBtb3VudGVkOiBhc3luYyBmdW5jdGlvbigpewogICAgY29uc3QgcmVzID0gYXdhaXQgbm91bm91LnJlY3VwQWxsVXNlcigpCiAgICB0aGlzLnVzZXJzID0gcmVzLmRhdGEKICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcnMpCiAgICB0aGlzLmlzX2FkbWluID0gMQogICAgCiAgfSwKICBtZXRob2RzOiB7CiAgICBVc2VyYWRtaW46IGFzeW5jIGZ1bmN0aW9uIChpZCkgewogICAgCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgIGlzX2FkbWluOiAxLAogICAgICBpZDppZCwKICAgICAgfQogICAgICBsZXQgcmVzID0gYXdhaXQgbm91bm91LnVwZGF0ZVVzZXJBZG1pbihwYXJhbXMpOwogICAgICAvLyBsb2NhdGlvbi5ocmVmID0gJy9Qcm9maWwnOwogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgY29uc29sZS5sb2cocmVzKTsgIAogICAgfSwKICAgIEFkbWluVXNlcjogYXN5bmMgZnVuY3Rpb24gKGlkKSB7CiAgICAKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgaXNfYWRtaW46IDAsCiAgICAgIGlkOmlkLAogICAgICB9CiAgICAgIGxldCByZXMgPSBhd2FpdCBub3Vub3UudXBkYXRlVXNlckFkbWluKHBhcmFtcyk7CiAgICAgIC8vIGxvY2F0aW9uLmhyZWYgPSAnL1Byb2ZpbCc7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICBjb25zb2xlLmxvZyhyZXMpOyAgCiAgICB9CiAgfSwKICAKfQo="},{"version":3,"sources":["Gestionuser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Gestionuser.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <h2 class=\"m-5\">Gestion des utilisateurs</h2>\n <div class=\"row ml-auto mr-auto\">  \n     <div class=\"col-md-6\">\n        <h4 class=\" bleu text-white rounded\">Administrateurs</h4>\n        <div v-for=\"(user, index) in users\" :key=\"index\">\n          <div v-if=\"users[index].is_admin\" class=\"row col-md-12 ml-auto mr-auto d-flex justify-content-center p-2 bg-light mb-2\">\n          <div class=\"col-md-9 text-left m-auto\">{{users[index].created_at|formatDate}} | {{users[index].surname}} {{users[index].firstname}} </div>\n          <div @click=\"AdminUser(users[index].id)\" class=\"btn text-white bleu\">Admin->User</div>\n          </div>\n        </div>\n      </div>  \n\n      <div class=\"col-md-6\">\n        <h4 class=\" bleu text-white rounded\">Utilisateurs</h4>\n        <div v-for=\"(user2, index) in users\" :key=\"index\">\n          <div v-if=\"!users[index].is_admin\" class=\"row col-md-12 ml-auto mr-auto d-flex justify-content-center p-2 bg-light mb-2\">\n          <div  class=\"col-md-9 text-left m-auto\">{{users[index].created_at|formatDate}} | {{users[index].surname}} {{users[index].firstname}} </div>\n          <div  @click=\"Useradmin(users[index].id)\" type=\"submit\" value=\"submit\" class=\"btn vert text-white\">User->Admin</div>\n          </div>\n        </div>\n      </div>\n</div>\n    </div>\n</template>\n\n<script>\n\nimport nounou from '@/services/nounou'\n\nexport default {\n    name:'Gestionuser',\n    data: ()=>({\n    users:[],\n  }),\n  mounted: async function(){\n    const res = await nounou.recupAllUser()\n    this.users = res.data\n    console.log(this.users)\n    this.is_admin = 1\n    \n  },\n  methods: {\n    Useradmin: async function (id) {\n    \n      var params = {\n      is_admin: 1,\n      id:id,\n      }\n      let res = await nounou.updateUserAdmin(params);\n      // location.href = '/Profil';\n      location.reload();\n      console.log(res);  \n    },\n    AdminUser: async function (id) {\n    \n      var params = {\n      is_admin: 0,\n      id:id,\n      }\n      let res = await nounou.updateUserAdmin(params);\n      // location.href = '/Profil';\n      location.reload();\n      console.log(res);  \n    }\n  },\n  \n}\n</script>\n\n<style scoped>\n.bleu {\n  background-color: #539ee4;\n}\n.vert {\n  background-color: #00c5ad;\n}\n</style>"]}]}