{"remainingRequest":"/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/babel-loader/lib/index.js!/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/src/components/Gestionuser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/src/components/Gestionuser.vue","mtime":1597478338339},{"path":"/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/PFF/Projet_fin_de_formation_nounou2/nounou_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY2VkcmljbWFnbGlvbmUvUEZGL1Byb2pldF9maW5fZGVfZm9ybWF0aW9uX25vdW5vdTIvbm91bm91X2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IG5vdW5vdSBmcm9tICdAL3NlcnZpY2VzL25vdW5vdSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR2VzdGlvbnVzZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gbm91bm91LnJlY3VwQWxsVXNlcigpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgdGhpcy51c2VycyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcnMpOwogICAgICAgICAgICAgIHRoaXMuaXNfYWRtaW4gPSAxOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICByZXR1cm4gX21vdW50ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbW91bnRlZDsKICB9KCksCiAgbWV0aG9kczogewogICAgVXNlcmFkbWluOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfVXNlcmFkbWluID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihpZCkgewogICAgICAgIHZhciBwYXJhbXMsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBpc19hZG1pbjogMSwKICAgICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIG5vdW5vdS51cGRhdGVVc2VyQWRtaW4ocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBsb2NhdGlvbi5ocmVmID0gJy9Qcm9maWwnOwogICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBVc2VyYWRtaW4oX3gpIHsKICAgICAgICByZXR1cm4gX1VzZXJhZG1pbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gVXNlcmFkbWluOwogICAgfSgpLAogICAgQWRtaW5Vc2VyOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfQWRtaW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhpZCkgewogICAgICAgIHZhciBwYXJhbXMsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICBpc19hZG1pbjogMCwKICAgICAgICAgICAgICAgICAgaWQ6IGlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIG5vdW5vdS51cGRhdGVVc2VyQWRtaW4ocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBsb2NhdGlvbi5ocmVmID0gJy9Qcm9maWwnOwogICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBBZG1pblVzZXIoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9BZG1pblVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIEFkbWluVXNlcjsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["Gestionuser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,MAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAAA,GAFA;AAKA,EAAA,OAAA;AAAA,2EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,YAAA,EADA;;AAAA;AACA,cAAA,GADA;AAEA,mBAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,mBAAA,QAAA,GAAA,CAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,KALA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA;AAAA,+EAAA,kBAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA;AACA,kBAAA,QAAA,EAAA,CADA;AAEA,kBAAA,EAAA,EAAA;AAFA,iBAFA;AAAA;AAAA,uBAMA,MAAA,CAAA,eAAA,CAAA,MAAA,CANA;;AAAA;AAMA,gBAAA,GANA;AAOA;AACA,gBAAA,QAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADA;AAYA,IAAA,SAAA;AAAA,+EAAA,kBAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA;AACA,kBAAA,QAAA,EAAA,CADA;AAEA,kBAAA,EAAA,EAAA;AAFA,iBAFA;AAAA;AAAA,uBAMA,MAAA,CAAA,eAAA,CAAA,MAAA,CANA;;AAAA;AAMA,gBAAA,GANA;AAOA;AACA,gBAAA,QAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAZA;AAZA,CAAA","sourcesContent":["<template>\n    <div>\n        <h1>Gestion des utilisateurs</h1>\n        \n        <h4 class=\"border-bottom bg-light\">Administrateurs</h4>\n        <div v-for=\"(user, index) in users\" :key=\"index\">\n          <div class=\"row d-flex justify-content-center p-2\">\n          <div v-if=\"users[index].is_admin\" class=\"col-md-3 text-left\">{{users[index].surname}} {{users[index].firstname}} </div>\n          <div v-if=\"users[index].is_admin\" @click=\"AdminUser(users[index].id)\" class=\"btn btn-danger\">Admin->User</div>\n          </div>\n        </div>\n        \n        <h4 class=\"border-bottom bg-light\">Utilisateurs</h4>\n        <div v-for=\"(user2, index) in users\" :key=\"index\">\n          <div class=\"row d-flex justify-content-center p-2\">\n          <div v-if=\"!users[index].is_admin\" class=\"col-md-3 text-left\">{{users[index].surname}} {{users[index].firstname}} </div>\n          <div v-if=\"!users[index].is_admin\" @click=\"Useradmin(users[index].id)\" type=\"submit\" value=\"submit\" class=\"btn btn-success\">User->Admin</div>\n          </div>\n        </div>\n\n\n    </div>\n</template>\n\n<script>\n\nimport nounou from '@/services/nounou'\n\nexport default {\n    name:'Gestionuser',\n    data: ()=>({\n    users:[],\n  }),\n  mounted: async function(){\n    const res = await nounou.recupAllUser()\n    this.users = res.data\n    console.log(this.users)\n    this.is_admin = 1\n    \n  },\n  methods: {\n    Useradmin: async function (id) {\n    \n      var params = {\n      is_admin: 1,\n      id:id,\n      }\n      let res = await nounou.updateUserAdmin(params);\n      // location.href = '/Profil';\n      location.reload();\n      console.log(res);  \n    },\n    AdminUser: async function (id) {\n    \n      var params = {\n      is_admin: 0,\n      id:id,\n      }\n      let res = await nounou.updateUserAdmin(params);\n      // location.href = '/Profil';\n      location.reload();\n      console.log(res);  \n    }\n  },\n  \n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}