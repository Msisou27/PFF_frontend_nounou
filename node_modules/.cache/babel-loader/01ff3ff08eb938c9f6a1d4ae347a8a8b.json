{"remainingRequest":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/babel-loader/lib/index.js!/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cedricmaglione/MonPFF/PFF_frontend_nounou/src/components/Gestionuser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/src/components/Gestionuser.vue","mtime":1597847442666},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cedricmaglione/MonPFF/PFF_frontend_nounou/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvY2VkcmljbWFnbGlvbmUvTW9uUEZGL1BGRl9mcm9udGVuZF9ub3Vub3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbm91bm91IGZyb20gJ0Avc2VydmljZXMvbm91bm91JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHZXN0aW9udXNlcicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbW91bnRlZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBub3Vub3UucmVjdXBBbGxVc2VyKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICB0aGlzLnVzZXJzID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy51c2Vycyk7CiAgICAgICAgICAgICAgdGhpcy5pc19hZG1pbiA9IDE7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpID09ICdudWxsJykgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIFVzZXJhZG1pbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX1VzZXJhZG1pbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoaWQpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgaXNfYWRtaW46IDEsCiAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBub3Vub3UudXBkYXRlVXNlckFkbWluKHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgLy8gbG9jYXRpb24uaHJlZiA9ICcvUHJvZmlsJzsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gVXNlcmFkbWluKF94KSB7CiAgICAgICAgcmV0dXJuIF9Vc2VyYWRtaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFVzZXJhZG1pbjsKICAgIH0oKSwKICAgIEFkbWluVXNlcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX0FkbWluVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoaWQpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgaXNfYWRtaW46IDAsCiAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBub3Vub3UudXBkYXRlVXNlckFkbWluKHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgLy8gbG9jYXRpb24uaHJlZiA9ICcvUHJvZmlsJzsKICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gQWRtaW5Vc2VyKF94MikgewogICAgICAgIHJldHVybiBfQWRtaW5Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBBZG1pblVzZXI7CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["Gestionuser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,MAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAAA,GAFA;AAKA,EAAA,OAAA;AAAA,2EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,YAAA,EADA;;AAAA;AACA,cAAA,GADA;AAEA,mBAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,mBAAA,QAAA,GAAA,CAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,KALA;AAYA,EAAA,OAZA,qBAYA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,OAAA,KAAA,MAAA,EAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AACA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA;AAAA,+EAAA,kBAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA;AACA,kBAAA,QAAA,EAAA,CADA;AAEA,kBAAA,EAAA,EAAA;AAFA,iBAFA;AAAA;AAAA,uBAMA,MAAA,CAAA,eAAA,CAAA,MAAA,CANA;;AAAA;AAMA,gBAAA,GANA;AAOA;AACA,gBAAA,QAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADA;AAYA,IAAA,SAAA;AAAA,+EAAA,kBAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAFA,GAEA;AACA,kBAAA,QAAA,EAAA,CADA;AAEA,kBAAA,EAAA,EAAA;AAFA,iBAFA;AAAA;AAAA,uBAMA,MAAA,CAAA,eAAA,CAAA,MAAA,CANA;;AAAA;AAMA,gBAAA,GANA;AAOA;AACA,gBAAA,QAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAZA;AAjBA,CAAA","sourcesContent":["<template>\n    <div>\n        <h2 class=\"m-5\">Gestion des utilisateurs</h2>\n <div class=\"row ml-auto mr-auto\">  \n     <div class=\"col-md-6\">\n        <h4 class=\" bleu text-white rounded\">Administrateurs</h4>\n        <div v-for=\"(user, index) in users\" :key=\"index\">\n          <div v-if=\"users[index].is_admin\" class=\"row col-md-12 ml-auto mr-auto d-flex justify-content-center p-2 bg-light mb-2\">\n          <div class=\"col-md-9 text-left m-auto\">{{users[index].created_at|formatDate}} | {{users[index].surname}} {{users[index].firstname}} </div>\n          <div @click=\"AdminUser(users[index].id)\" class=\"btn text-white bleu\">Admin->User</div>\n          </div>\n        </div>\n      </div>  \n\n      <div class=\"col-md-6\">\n        <h4 class=\" bleu text-white rounded\">Utilisateurs</h4>\n        <div v-for=\"(user2, index) in users\" :key=\"index\">\n          <div v-if=\"!users[index].is_admin\" class=\"row col-md-12 ml-auto mr-auto d-flex justify-content-center p-2 bg-light mb-2\">\n          <div  class=\"col-md-9 text-left m-auto\">{{users[index].created_at|formatDate}} | {{users[index].surname}} {{users[index].firstname}} </div>\n          <div  @click=\"Useradmin(users[index].id)\" type=\"submit\" value=\"submit\" class=\"btn vert text-white\">User->Admin</div>\n          </div>\n        </div>\n      </div>\n</div>\n    </div>\n</template>\n\n<script>\n\nimport nounou from '@/services/nounou'\n\nexport default {\n    name:'Gestionuser',\n    data: ()=>({\n    users:[],\n  }),\n  mounted: async function(){\n    const res = await nounou.recupAllUser()\n    this.users = res.data\n    console.log(this.users)\n    this.is_admin = 1\n    \n  },\n  created() {\n    if(localStorage.getItem('token')=='null'){\n        window.location.href = '/'\n    }\n  },\n  methods: {\n    Useradmin: async function (id) {\n    \n      var params = {\n      is_admin: 1,\n      id:id,\n      }\n      let res = await nounou.updateUserAdmin(params);\n      // location.href = '/Profil';\n      location.reload();\n      console.log(res);  \n    },\n    AdminUser: async function (id) {\n    \n      var params = {\n      is_admin: 0,\n      id:id,\n      }\n      let res = await nounou.updateUserAdmin(params);\n      // location.href = '/Profil';\n      location.reload();\n      console.log(res);  \n    }\n  },\n  \n}\n</script>\n\n<style scoped>\n.bleu {\n  background-color: #539ee4;\n}\n.vert {\n  background-color: #00c5ad;\n}\n</style>"],"sourceRoot":"src/components"}]}